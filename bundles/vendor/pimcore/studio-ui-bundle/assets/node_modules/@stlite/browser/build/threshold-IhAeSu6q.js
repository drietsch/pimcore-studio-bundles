import{p as zn,i as B,q as W,j as _,m as Cn}from"./string-DgdQM7is.js";function S(n,r){return n==null||r==null?NaN:n<r?-1:n>r?1:n>=r?0:NaN}function Dn(n,r){return n==null||r==null?NaN:r<n?-1:r>n?1:r>=n?0:NaN}function L(n){let r,e,t;n.length!==2?(r=S,e=(s,c)=>S(n(s),c),t=(s,c)=>n(s)-c):(r=n===S||n===Dn?n:Fn,e=n,t=n);function i(s,c,a=0,g=s.length){if(a<g){if(r(c,c)!==0)return g;do{const l=a+g>>>1;e(s[l],c)<0?a=l+1:g=l}while(a<g)}return a}function o(s,c,a=0,g=s.length){if(a<g){if(r(c,c)!==0)return g;do{const l=a+g>>>1;e(s[l],c)<=0?a=l+1:g=l}while(a<g)}return a}function u(s,c,a=0,g=s.length){const l=i(s,c,a,g-1);return l>a&&t(s[l-1],c)>-t(s[l],c)?l-1:l}return{left:i,center:u,right:o}}function Fn(){return 0}function J(n){return n===null?NaN:+n}function*Pn(n,r){if(r===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let t of n)(t=r(t,++e,n))!=null&&(t=+t)>=t&&(yield t)}}const nn=L(S),T=nn.right,On=nn.left;L(J).center;const Bn=Math.sqrt(50),Ln=Math.sqrt(10),Tn=Math.sqrt(2);function C(n,r,e){const t=(r-n)/Math.max(0,e),i=Math.floor(Math.log10(t)),o=t/Math.pow(10,i),u=o>=Bn?10:o>=Ln?5:o>=Tn?2:1;let s,c,a;return i<0?(a=Math.pow(10,-i)/u,s=Math.round(n*a),c=Math.round(r*a),s/a<n&&++s,c/a>r&&--c,a=-a):(a=Math.pow(10,i)*u,s=Math.round(n/a),c=Math.round(r/a),s*a<n&&++s,c*a>r&&--c),c<s&&.5<=e&&e<2?C(n,r,e*2):[s,c,a]}function rn(n,r,e){if(r=+r,n=+n,e=+e,!(e>0))return[];if(n===r)return[n];const t=r<n,[i,o,u]=t?C(r,n,e):C(n,r,e);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(t)if(u<0)for(let a=0;a<s;++a)c[a]=(o-a)/-u;else for(let a=0;a<s;++a)c[a]=(o-a)*u;else if(u<0)for(let a=0;a<s;++a)c[a]=(i+a)/-u;else for(let a=0;a<s;++a)c[a]=(i+a)*u;return c}function V(n,r,e){return r=+r,n=+n,e=+e,C(n,r,e)[2]}function tn(n,r,e){r=+r,n=+n,e=+e;const t=r<n,i=t?V(r,n,e):V(n,r,e);return(t?-1:1)*(i<0?1/-i:i)}function Vn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function D(n,r){if((e=(n=r?n.toExponential(r-1):n.toExponential()).indexOf("e"))<0)return null;var e,t=n.slice(0,e);return[t.length>1?t[0]+t.slice(2):t,+n.slice(e+1)]}function k(n){return n=D(Math.abs(n)),n?n[1]:NaN}function Xn(n,r){return function(e,t){for(var i=e.length,o=[],u=0,s=n[0],c=0;i>0&&s>0&&(c+s+1>t&&(s=Math.max(1,t-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>t));)s=n[u=(u+1)%n.length];return o.reverse().join(r)}}function Gn(n){return function(r){return r.replace(/[0-9]/g,function(e){return n[+e]})}}var Rn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function E(n){if(!(r=Rn.exec(n)))throw new Error("invalid format: "+n);var r;return new X({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}E.prototype=X.prototype;function X(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}X.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Un(n){n:for(var r=n.length,e=1,t=-1,i;e<r;++e)switch(n[e]){case".":t=i=e;break;case"0":t===0&&(t=e),i=e;break;default:if(!+n[e])break n;t>0&&(t=0);break}return t>0?n.slice(0,t)+n.slice(i+1):n}var en;function Yn(n,r){var e=D(n,r);if(!e)return n+"";var t=e[0],i=e[1],o=i-(en=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=t.length;return o===u?t:o>u?t+new Array(o-u+1).join("0"):o>0?t.slice(0,o)+"."+t.slice(o):"0."+new Array(1-o).join("0")+D(n,Math.max(0,r+o-1))[0]}function an(n,r){var e=D(n,r);if(!e)return n+"";var t=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+t:t.length>i+1?t.slice(0,i+1)+"."+t.slice(i+1):t+new Array(i-t.length+2).join("0")}const on={"%":(n,r)=>(n*100).toFixed(r),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Vn,e:(n,r)=>n.toExponential(r),f:(n,r)=>n.toFixed(r),g:(n,r)=>n.toPrecision(r),o:n=>Math.round(n).toString(8),p:(n,r)=>an(n*100,r),r:an,s:Yn,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function un(n){return n}var sn=Array.prototype.map,cn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ln(n){var r=n.grouping===void 0||n.thousands===void 0?un:Xn(sn.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",t=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?un:Gn(sn.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"\u2212":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function a(l){l=E(l);var h=l.fill,M=l.align,d=l.sign,A=l.symbol,N=l.zero,j=l.width,O=l.comma,y=l.precision,H=l.trim,m=l.type;m==="n"?(O=!0,m="g"):on[m]||(y===void 0&&(y=12),H=!0,m="g"),(N||h==="0"&&M==="=")&&(N=!0,h="0",M="=");var En=A==="$"?e:A==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",qn=A==="$"?t:/[%p]/.test(m)?u:"",I=on[m],$n=/[defgprs%]/.test(m);y=y===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function K(f){var b=En,p=qn,x,Q,q;if(m==="c")p=I(f)+p,f="";else{f=+f;var $=f<0||1/f<0;if(f=isNaN(f)?c:I(Math.abs(f),y),H&&(f=Un(f)),$&&+f==0&&d!=="+"&&($=!1),b=($?d==="("?d:s:d==="-"||d==="("?"":d)+b,p=(m==="s"?cn[8+en/3]:"")+p+($&&d==="("?")":""),$n){for(x=-1,Q=f.length;++x<Q;)if(q=f.charCodeAt(x),48>q||q>57){p=(q===46?i+f.slice(x+1):f.slice(x))+p,f=f.slice(0,x);break}}}O&&!N&&(f=r(f,1/0));var z=b.length+f.length+p.length,v=z<j?new Array(j-z+1).join(h):"";switch(O&&N&&(f=r(v+f,v.length?j-p.length:1/0),v=""),M){case"<":f=b+f+p+v;break;case"=":f=b+v+f+p;break;case"^":f=v.slice(0,z=v.length>>1)+b+f+p+v.slice(z);break;default:f=v+b+f+p;break}return o(f)}return K.toString=function(){return l+""},K}function g(l,h){var M=a((l=E(l),l.type="f",l)),d=Math.max(-8,Math.min(8,Math.floor(k(h)/3)))*3,A=Math.pow(10,-d),N=cn[8+d/3];return function(j){return M(A*j)+N}}return{format:a,formatPrefix:g}}var F,G,R;Zn({thousands:",",grouping:[3],currency:["$",""]});function Zn(n){return F=ln(n),G=F.format,R=F.formatPrefix,F}function fn(n){return Math.max(0,-k(Math.abs(n)))}function hn(n,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(k(r)/3)))*3-k(Math.abs(n)))}function gn(n,r){return n=Math.abs(n),r=Math.abs(r)-n,Math.max(0,k(r)-k(n))+1}function U(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function Hn(n,r){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}function Y(n,r){r||(r=[]);var e=n?Math.min(r.length,n.length):0,t=r.slice(),i;return function(o){for(i=0;i<e;++i)t[i]=n[i]*(1-o)+r[i]*o;return t}}function mn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function In(n,r){return(mn(r)?Y:pn)(n,r)}function pn(n,r){var e=r?r.length:0,t=n?Math.min(e,n.length):0,i=new Array(t),o=new Array(e),u;for(u=0;u<t;++u)i[u]=P(n[u],r[u]);for(;u<e;++u)o[u]=r[u];return function(s){for(u=0;u<t;++u)o[u]=i[u](s);return o}}function dn(n,r){var e=new Date;return n=+n,r=+r,function(t){return e.setTime(n*(1-t)+r*t),e}}function vn(n,r){var e={},t={},i;(n===null||typeof n!="object")&&(n={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in n?e[i]=P(n[i],r[i]):t[i]=r[i];return function(o){for(i in e)t[i]=e[i](o);return t}}function P(n,r){var e=typeof r,t;return r==null||e==="boolean"?zn(r):(e==="number"?B:e==="string"?(t=W(r))?(r=t,_):Cn:r instanceof W?_:r instanceof Date?dn:mn(r)?Y:Array.isArray(r)?pn:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?vn:B)(n,r)}function Mn(n,r){return n=+n,r=+r,function(e){return Math.round(n*(1-e)+r*e)}}function Kn(n){return function(){return n}}function yn(n){return+n}var bn=[0,1];function w(n){return n}function Z(n,r){return(r-=n=+n)?function(e){return(e-n)/r}:Kn(isNaN(r)?NaN:.5)}function Qn(n,r){var e;return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Wn(n,r,e){var t=n[0],i=n[1],o=r[0],u=r[1];return i<t?(t=Z(i,t),o=e(u,o)):(t=Z(t,i),o=e(o,u)),function(s){return o(t(s))}}function _n(n,r,e){var t=Math.min(n.length,r.length)-1,i=new Array(t),o=new Array(t),u=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++u<t;)i[u]=Z(n[u],n[u+1]),o[u]=e(r[u],r[u+1]);return function(s){var c=T(n,s,1,t)-1;return o[c](i[c](s))}}function wn(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Nn(){var n=bn,r=bn,e=P,t,i,o,u=w,s,c,a;function g(){var h=Math.min(n.length,r.length);return u!==w&&(u=Qn(n[0],n[h-1])),s=h>2?_n:Wn,c=a=null,l}function l(h){return h==null||isNaN(h=+h)?o:(c||(c=s(n.map(t),r,e)))(t(u(h)))}return l.invert=function(h){return u(i((a||(a=s(r,n.map(t),B)))(h)))},l.domain=function(h){return arguments.length?(n=Array.from(h,yn),g()):n.slice()},l.range=function(h){return arguments.length?(r=Array.from(h),g()):r.slice()},l.rangeRound=function(h){return r=Array.from(h),e=Mn,g()},l.clamp=function(h){return arguments.length?(u=h?!0:w,g()):u!==w},l.interpolate=function(h){return arguments.length?(e=h,g()):e},l.unknown=function(h){return arguments.length?(o=h,l):o},function(h,M){return t=h,i=M,g()}}function xn(){return Nn()(w,w)}function kn(n,r,e,t){var i=tn(n,r,e),o;switch(t=E(t??",f"),t.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(o=hn(i,u))&&(t.precision=o),R(t,u)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(o=gn(i,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=o-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(o=fn(i))&&(t.precision=o-(t.type==="%")*2);break}}return G(t)}function An(n){var r=n.domain;return n.ticks=function(e){var t=r();return rn(t[0],t[t.length-1],e??10)},n.tickFormat=function(e,t){var i=r();return kn(i[0],i[i.length-1],e??10,t)},n.nice=function(e){e==null&&(e=10);var t=r(),i=0,o=t.length-1,u=t[i],s=t[o],c,a,g=10;for(s<u&&(a=u,u=s,s=a,a=i,i=o,o=a);g-- >0;){if(a=V(u,s,e),a===c)return t[i]=u,t[o]=s,r(t);if(a>0)u=Math.floor(u/a)*a,s=Math.ceil(s/a)*a;else if(a<0)u=Math.ceil(u*a)/a,s=Math.floor(s*a)/a;else break;c=a}return n},n}function jn(){var n=xn();return n.copy=function(){return wn(n,jn())},U.apply(n,arguments),An(n)}function Sn(){var n=[.5],r=[0,1],e,t=1;function i(o){return o!=null&&o<=o?r[T(n,o,0,t)]:e}return i.domain=function(o){return arguments.length?(n=Array.from(o),t=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(o){return arguments.length?(r=Array.from(o),t=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(o){var u=r.indexOf(o);return[n[u-1],n[u]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Sn().domain(n).range(r).unknown(e)},U.apply(i,arguments)}export{xn as A,Hn as B,jn as C,Sn as D,kn as E,On as F,S as a,J as b,L as c,E as d,gn as e,ln as f,hn as g,G as h,R as i,U as j,P as k,In as l,dn as m,Pn as n,Y as o,fn as p,vn as q,Mn as r,yn as s,tn as t,An as u,Nn as v,wn as w,rn as x,w as y,T as z};
