{"version":3,"file":"index-DSVGhYz1.js","sources":["../../../node_modules/@emotion-icons/material-outlined/Mic/Mic.esm.js","../../../node_modules/@emotion-icons/material-rounded/Pause/Pause.esm.js","../../../node_modules/@emotion-icons/material-rounded/PlayArrow/PlayArrow.esm.js","../../../node_modules/@emotion-icons/material-rounded/Refresh/Refresh.esm.js","../../../node_modules/@emotion-icons/material-rounded/StopCircle/StopCircle.esm.js","../../../node_modules/wavesurfer.js/dist/wavesurfer.esm.js","../../../node_modules/wavesurfer.js/dist/plugins/record.js","../../../streamlit/frontend/lib/src/util/uploadFiles.ts","../../../streamlit/frontend/lib/src/hooks/useWidgetManagerElementState.tsx","../../../streamlit/frontend/lib/src/hooks/useDownloadUrl.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/styled-components.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/NoMicPermissions.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/Placeholder.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/constants.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/formatTime.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/AudioInputActionButtons.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/convertAudioToWav.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/AudioInputErrorState.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/AudioInput.tsx"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Mic = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"\n  }));\n});\nMic.displayName = 'Mic';\nexport var MicDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Pause = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24,\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n  }));\n});\nPause.displayName = 'Pause';\nexport var PauseDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var PlayArrow = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24,\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 000-1.69L9.54 5.98A.998.998 0 008 6.82z\"\n  }));\n});\nPlayArrow.displayName = 'PlayArrow';\nexport var PlayArrowDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Refresh = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0V0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.65 6.35a7.95 7.95 0 00-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 007.21-4.56c.32-.67-.16-1.44-.9-1.44-.37 0-.72.2-.88.53a5.994 5.994 0 01-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0112 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z\"\n  }));\n});\nRefresh.displayName = 'Refresh';\nexport var RefreshDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var StopCircle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M9 16h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\"\n  }));\n});\nStopCircle.displayName = 'StopCircle';\nexport var StopCircleDimensions = {\n  height: 24,\n  width: 24\n};","function t(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;class e{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==i?void 0:i.once){const i=()=>{this.un(t,i),this.un(t,e)};return this.on(t,i),i}return()=>this.un(t,e)}un(t,e){var i;null===(i=this.listeners[t])||void 0===i||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}const i={decode:function(e,i){return t(this,void 0,void 0,(function*(){const t=new AudioContext({sampleRate:i});return t.decodeAudioData(e).finally((()=>t.close()))}))},createBuffer:function(t,e){return\"number\"==typeof t[0]&&(t=[t]),function(t){const e=t[0];if(e.some((t=>t>1||t<-1))){const i=e.length;let s=0;for(let t=0;t<i;t++){const i=Math.abs(e[t]);i>s&&(s=i)}for(const e of t)for(let t=0;t<i;t++)e[t]/=s}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:e=>null==t?void 0:t[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function s(t,e){const i=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,n]of Object.entries(e))if(\"children\"===t)for(const[t,n]of Object.entries(e))\"string\"==typeof n?i.appendChild(document.createTextNode(n)):i.appendChild(s(t,n));else\"style\"===t?Object.assign(i.style,n):\"textContent\"===t?i.textContent=n:i.setAttribute(t,n.toString());return i}function n(t,e,i){const n=s(t,e||{});return null==i||i.appendChild(n),n}var r=Object.freeze({__proto__:null,createElement:n,default:n});const o={fetchBlob:function(e,i,s){return t(this,void 0,void 0,(function*(){const n=yield fetch(e,s);if(n.status>=400)throw new Error(`Failed to fetch ${e}: ${n.status} (${n.statusText})`);return function(e,i){t(this,void 0,void 0,(function*(){if(!e.body||!e.headers)return;const s=e.body.getReader(),n=Number(e.headers.get(\"Content-Length\"))||0;let r=0;const o=e=>t(this,void 0,void 0,(function*(){r+=(null==e?void 0:e.length)||0;const t=Math.round(r/n*100);i(t)})),a=()=>t(this,void 0,void 0,(function*(){let t;try{t=yield s.read()}catch(t){return}t.done||(o(t.value),yield a())}));a()}))}(n.clone(),i),n.blob()}))}};class a extends e{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement(\"audio\"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&this.onMediaEvent(\"canplay\",(()=>{null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e,i)}getSrc(){return this.media.currentSrc||this.media.src||\"\"}revokeSrc(){const t=this.getSrc();t.startsWith(\"blob:\")&&URL.revokeObjectURL(t)}canPlayType(t){return\"\"!==this.media.canPlayType(t)}setSrc(t,e){const i=this.getSrc();if(t&&i===t)return;this.revokeSrc();const s=e instanceof Blob&&(this.canPlayType(e.type)||!t)?URL.createObjectURL(e):t;try{this.media.src=s}catch(e){this.media.src=t}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src=\"\",this.media.load())}setMediaElement(t){this.media=t}play(){return t(this,void 0,void 0,(function*(){return this.media.play()}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class h extends e{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=t;const i=this.parentFromOptionsContainer(t.container);this.parent=i;const[s,n]=this.initHtml();i.appendChild(s),this.container=s,this.scrollContainer=n.querySelector(\".scroll\"),this.wrapper=n.querySelector(\".wrapper\"),this.canvasWrapper=n.querySelector(\".canvases\"),this.progressWrapper=n.querySelector(\".progress\"),this.cursor=n.querySelector(\".cursor\"),e&&n.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if(\"string\"==typeof t?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw new Error(\"Container not found\");return e}initEvents(){const t=t=>{const e=this.wrapper.getBoundingClientRect(),i=t.clientX-e.left,s=t.clientY-e.top;return[i/e.width,s/e.height]};if(this.wrapper.addEventListener(\"click\",(e=>{const[i,s]=t(e);this.emit(\"click\",i,s)})),this.wrapper.addEventListener(\"dblclick\",(e=>{const[i,s]=t(e);this.emit(\"dblclick\",i,s)})),!0!==this.options.dragToSeek&&\"object\"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollContainer.addEventListener(\"scroll\",(()=>{const{scrollLeft:t,scrollWidth:e,clientWidth:i}=this.scrollContainer,s=t/e,n=(t+i)/e;this.emit(\"scroll\",s,n,t,t+i)})),\"function\"==typeof ResizeObserver){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&\"auto\"!==this.options.height||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,e,i,s,n=3,r=0,o=100){if(!t)return()=>{};const a=matchMedia(\"(pointer: coarse)\").matches;let h=()=>{};const l=l=>{if(l.button!==r)return;l.preventDefault(),l.stopPropagation();let d=l.clientX,c=l.clientY,u=!1;const p=Date.now(),m=s=>{if(s.preventDefault(),s.stopPropagation(),a&&Date.now()-p<o)return;const r=s.clientX,h=s.clientY,l=r-d,m=h-c;if(u||Math.abs(l)>n||Math.abs(m)>n){const s=t.getBoundingClientRect(),{left:n,top:o}=s;u||(null==i||i(d-n,c-o),u=!0),e(l,m,r-n,h-o),d=r,c=h}},g=e=>{if(u){const i=e.clientX,n=e.clientY,r=t.getBoundingClientRect(),{left:o,top:a}=r;null==s||s(i-o,n-a)}h()},f=t=>{t.relatedTarget&&t.relatedTarget!==document.documentElement||g(t)},v=t=>{u&&(t.stopPropagation(),t.preventDefault())},b=t=>{u&&t.preventDefault()};document.addEventListener(\"pointermove\",m),document.addEventListener(\"pointerup\",g),document.addEventListener(\"pointerout\",f),document.addEventListener(\"pointercancel\",f),document.addEventListener(\"touchmove\",b,{passive:!1}),document.addEventListener(\"click\",v,{capture:!0}),h=()=>{document.removeEventListener(\"pointermove\",m),document.removeEventListener(\"pointerup\",g),document.removeEventListener(\"pointerout\",f),document.removeEventListener(\"pointercancel\",f),document.removeEventListener(\"touchmove\",b),setTimeout((()=>{document.removeEventListener(\"click\",v,{capture:!0})}),10)}};return t.addEventListener(\"pointerdown\",l),()=>{h(),t.removeEventListener(\"pointerdown\",l)}}(this.wrapper,((t,e,i)=>{this.emit(\"drag\",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!0,this.emit(\"dragstart\",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!1,this.emit(\"dragend\",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))})))}getHeight(t,e){var i;const s=(null===(i=this.audioData)||void 0===i?void 0:i.numberOfChannels)||1;if(null==t)return 128;if(!isNaN(Number(t)))return Number(t);if(\"auto\"===t){const t=this.parent.clientHeight||128;return(null==e?void 0:e.every((t=>!t.overlay)))?t/s:t}return 128}initHtml(){const t=document.createElement(\"div\"),e=t.attachShadow({mode:\"open\"}),i=this.options.cspNonce&&\"string\"==typeof this.options.cspNonce?this.options.cspNonce.replace(/\"/g,\"\"):\"\";return e.innerHTML=`\\n      <style${i?` nonce=\"${i}\"`:\"\"}>\\n        :host {\\n          user-select: none;\\n          min-width: 1px;\\n        }\\n        :host audio {\\n          display: block;\\n          width: 100%;\\n        }\\n        :host .scroll {\\n          overflow-x: auto;\\n          overflow-y: hidden;\\n          width: 100%;\\n          position: relative;\\n        }\\n        :host .noScrollbar {\\n          scrollbar-color: transparent;\\n          scrollbar-width: none;\\n        }\\n        :host .noScrollbar::-webkit-scrollbar {\\n          display: none;\\n          -webkit-appearance: none;\\n        }\\n        :host .wrapper {\\n          position: relative;\\n          overflow: visible;\\n          z-index: 2;\\n        }\\n        :host .canvases {\\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\\n        }\\n        :host .canvases > div {\\n          position: relative;\\n        }\\n        :host canvas {\\n          display: block;\\n          position: absolute;\\n          top: 0;\\n          image-rendering: pixelated;\\n        }\\n        :host .progress {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 2;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          overflow: hidden;\\n        }\\n        :host .progress > div {\\n          position: relative;\\n        }\\n        :host .cursor {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 5;\\n          top: 0;\\n          left: 0;\\n          height: 100%;\\n          border-radius: 2px;\\n        }\\n      </style>\\n\\n      <div class=\"scroll\" part=\"scroll\">\\n        <div class=\"wrapper\" part=\"wrapper\">\\n          <div class=\"canvases\" part=\"canvases\"></div>\\n          <div class=\"progress\" part=\"progress\"></div>\\n          <div class=\"cursor\" part=\"cursor\"></div>\\n        </div>\\n      </div>\\n    `,[t,e]}setOptions(t){if(this.options.container!==t.container){const e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}!0!==t.dragToSeek&&\"object\"!=typeof this.options.dragToSeek||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:e}=this.scrollContainer,i=e*t;this.setScroll(i)}destroy(){var t,e;this.subscriptions.forEach((t=>t())),this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(e=this.unsubscribeOnScroll)||void 0===e||e.call(this)}createDelay(t=10){let e,i;const s=()=>{e&&clearTimeout(e),i&&i()};return this.timeouts.push(s),()=>new Promise(((n,r)=>{s(),i=r,e=setTimeout((()=>{e=void 0,i=void 0,n()}),t)}))}convertColorValues(t){if(!Array.isArray(t))return t||\"\";if(t.length<2)return t[0]||\"\";const e=document.createElement(\"canvas\"),i=e.getContext(\"2d\"),s=e.height*(window.devicePixelRatio||1),n=i.createLinearGradient(0,0,0,s),r=1/(t.length-1);return t.forEach(((t,e)=>{const i=e*r;n.addColorStop(i,t)})),n}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,e,i,s){const n=t[0],r=t[1]||t[0],o=n.length,{width:a,height:h}=i.canvas,l=h/2,d=this.getPixelRatio(),c=e.barWidth?e.barWidth*d:1,u=e.barGap?e.barGap*d:e.barWidth?c/2:0,p=e.barRadius||0,m=a/(c+u)/o,g=p&&\"roundRect\"in i?\"roundRect\":\"rect\";i.beginPath();let f=0,v=0,b=0;for(let t=0;t<=o;t++){const o=Math.round(t*m);if(o>f){const t=Math.round(v*l*s),n=t+Math.round(b*l*s)||1;let r=l-t;\"top\"===e.barAlign?r=0:\"bottom\"===e.barAlign&&(r=h-n),i[g](f*(c+u),r,c,n,p),f=o,v=0,b=0}const a=Math.abs(n[t]||0),d=Math.abs(r[t]||0);a>v&&(v=a),d>b&&(b=d)}i.fill(),i.closePath()}renderLineWaveform(t,e,i,s){const n=e=>{const n=t[e]||t[0],r=n.length,{height:o}=i.canvas,a=o/2,h=i.canvas.width/r;i.moveTo(0,a);let l=0,d=0;for(let t=0;t<=r;t++){const r=Math.round(t*h);if(r>l){const t=a+(Math.round(d*a*s)||1)*(0===e?-1:1);i.lineTo(l,t),l=r,d=0}const o=Math.abs(n[t]||0);o>d&&(d=o)}i.lineTo(l,a)};i.beginPath(),n(0),n(1),i.fill(),i.closePath()}renderWaveform(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,i);let s=e.barHeight||1;if(e.normalize){const e=Array.from(t[0]).reduce(((t,e)=>Math.max(t,Math.abs(e))),0);s=e?1/e:1}e.barWidth||e.barGap||e.barAlign?this.renderBarWaveform(t,e,i,s):this.renderLineWaveform(t,e,i,s)}renderSingleCanvas(t,e,i,s,n,r,o){const a=this.getPixelRatio(),h=document.createElement(\"canvas\");h.width=Math.round(i*a),h.height=Math.round(s*a),h.style.width=`${i}px`,h.style.height=`${s}px`,h.style.left=`${Math.round(n)}px`,r.appendChild(h);const l=h.getContext(\"2d\");if(this.renderWaveform(t,e,l),h.width>0&&h.height>0){const t=h.cloneNode(),i=t.getContext(\"2d\");i.drawImage(h,0,0),i.globalCompositeOperation=\"source-in\",i.fillStyle=this.convertColorValues(e.progressColor),i.fillRect(0,0,h.width,h.height),o.appendChild(t)}}renderMultiCanvas(t,e,i,s,n,r){const o=this.getPixelRatio(),{clientWidth:a}=this.scrollContainer,l=i/o;let d=Math.min(h.MAX_CANVAS_WIDTH,a,l),c={};if(e.barWidth||e.barGap){const t=e.barWidth||.5,i=t+(e.barGap||t/2);d%i!=0&&(d=Math.floor(d/i)*i)}const u=i=>{if(i<0||i>=p)return;if(c[i])return;c[i]=!0;const o=i*d,a=Math.min(l-o,d);if(a<=0)return;const h=t.map((t=>{const e=Math.floor(o/l*t.length),i=Math.floor((o+a)/l*t.length);return t.slice(e,i)}));this.renderSingleCanvas(h,e,a,s,o,n,r)},p=Math.ceil(l/d);if(!this.isScrollable){for(let t=0;t<p;t++)u(t);return}const m=this.scrollContainer.scrollLeft/l,g=Math.floor(m*p);u(g-1),u(g),u(g+1),p>1&&(this.unsubscribeOnScroll=this.on(\"scroll\",(()=>{const{scrollLeft:t}=this.scrollContainer,e=Math.floor(t/l*p);Object.keys(c).length>h.MAX_NODES&&(n.innerHTML=\"\",r.innerHTML=\"\",c={}),u(e-1),u(e),u(e+1)})))}renderChannel(t,e,i,s){var{overlay:n}=e,r=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(i[s[n]]=t[s[n]])}return i}(e,[\"overlay\"]);const o=document.createElement(\"div\"),a=this.getHeight(r.height,r.splitChannels);o.style.height=`${a}px`,n&&s>0&&(o.style.marginTop=`-${a}px`),this.canvasWrapper.style.minHeight=`${a}px`,this.canvasWrapper.appendChild(o);const h=o.cloneNode();this.progressWrapper.appendChild(h),this.renderMultiCanvas(t,r,i,a,o,h)}render(e){return t(this,void 0,void 0,(function*(){var t;this.timeouts.forEach((t=>t())),this.timeouts=[],this.canvasWrapper.innerHTML=\"\",this.progressWrapper.innerHTML=\"\",null!=this.options.width&&(this.scrollContainer.style.width=\"number\"==typeof this.options.width?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),s=this.scrollContainer.clientWidth,n=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=n>s;const r=this.options.fillParent&&!this.isScrollable,o=(r?s:n)*i;if(this.wrapper.style.width=r?\"100%\":`${n}px`,this.scrollContainer.style.overflowX=this.isScrollable?\"auto\":\"hidden\",this.scrollContainer.classList.toggle(\"noScrollbar\",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit(\"render\"),this.options.splitChannels)for(let i=0;i<e.numberOfChannels;i++){const s=Object.assign(Object.assign({},this.options),null===(t=this.options.splitChannels)||void 0===t?void 0:t[i]);this.renderChannel([e.getChannelData(i)],s,o,i)}else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),this.renderChannel(t,this.options,o,0)}Promise.resolve().then((()=>this.emit(\"rendered\")))}))}reRender(){var t;if(null===(t=this.unsubscribeOnScroll)||void 0===t||t.call(this),delete this.unsubscribeOnScroll,!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:i}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:t}=this.progressWrapper.getBoundingClientRect();let e=t-i;e*=2,e=e<0?Math.floor(e):Math.ceil(e),e/=2,this.scrollContainer.scrollLeft+=e}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{scrollLeft:i,scrollWidth:s,clientWidth:n}=this.scrollContainer,r=t*s,o=i,a=i+n,h=n/2;if(this.isDragging){const t=30;r+t>a?this.scrollContainer.scrollLeft+=t:r-t<o&&(this.scrollContainer.scrollLeft-=t)}else{(r<o||r>a)&&(this.scrollContainer.scrollLeft=r-(this.options.autoCenter?h:0));const t=r-i-h;e&&this.options.autoCenter&&t>0&&(this.scrollContainer.scrollLeft+=Math.min(t,10))}{const t=this.scrollContainer.scrollLeft,e=t/s,i=(t+n)/s;this.emit(\"scroll\",e,i,t,t+n)}}renderProgress(t,e){if(isNaN(t))return;const i=100*t;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${100===Math.round(i)?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,e)}exportImage(e,i,s){return t(this,void 0,void 0,(function*(){const t=this.canvasWrapper.querySelectorAll(\"canvas\");if(!t.length)throw new Error(\"No waveform data\");if(\"dataURL\"===s){const s=Array.from(t).map((t=>t.toDataURL(e,i)));return Promise.resolve(s)}return Promise.all(Array.from(t).map((t=>new Promise(((s,n)=>{t.toBlob((t=>{t?s(t):n(new Error(\"Could not export image\"))}),e,i)})))))}))}}h.MAX_CANVAS_WIDTH=8e3,h.MAX_NODES=10;class l extends e{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on(\"tick\",(()=>{requestAnimationFrame((()=>{this.emit(\"tick\")}))})),this.emit(\"tick\")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class d extends e{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc=\"\",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return t(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit(\"emptied\");fetch(t).then((e=>{if(e.status>=400)throw new Error(`Failed to fetch ${t}: ${e.status} (${e.statusText})`);return e.arrayBuffer()})).then((e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e))).then((e=>{this.currentSrc===t&&(this.buffer=e,this.emit(\"loadedmetadata\"),this.emit(\"canplay\"),this.autoplay&&this.play())}))}_play(){var t;if(!this.paused)return;this.paused=!1,null===(t=this.bufferNode)||void 0===t||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;e>=this.duration&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit(\"ended\"))}}_pause(){var t;this.paused=!0,null===(t=this.bufferNode)||void 0===t||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return t(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit(\"play\"))}))}pause(){this.paused||(this._pause(),this.emit(\"pause\"))}stopAt(t){var e,i;const s=t-this.currentTime;null===(e=this.bufferNode)||void 0===e||e.stop(this.audioContext.currentTime+s),null===(i=this.bufferNode)||void 0===i||i.addEventListener(\"ended\",(()=>{this.bufferNode=null,this.pause()}),{once:!0})}setSinkId(e){return t(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const e=!this.paused;e&&this._pause(),this.playedDuration=t/this._playbackRate,e&&this._play(),this.emit(\"seeking\"),this.emit(\"timeupdate\")}get duration(){var t,e;return null!==(t=this._duration)&&void 0!==t?t:(null===(e=this.buffer)||void 0===e?void 0:e.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit(\"volumechange\")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const e=this.buffer.numberOfChannels;for(let i=0;i<e;i++)t.push(this.buffer.getChannelData(i));return t}}const c={waveColor:\"#999\",progressColor:\"#555\",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class u extends a{static create(t){return new u(t)}constructor(t){const e=t.media||(\"WebAudio\"===t.backend?new d:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},c,t),this.timer=new l;const i=e?void 0:this.getMediaElement();this.renderer=new h(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const s=this.options.url||this.getSrc()||\"\";Promise.resolve().then((()=>{this.emit(\"init\");const{peaks:t,duration:e}=this.options;(s||t&&e)&&this.load(s,t,e).catch((()=>null))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on(\"tick\",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit(\"timeupdate\",t),this.emit(\"audioprocess\",t)}})))}initPlayerEvents(){this.isPlaying()&&(this.emit(\"play\"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent(\"timeupdate\",(()=>{const t=this.updateProgress();this.emit(\"timeupdate\",t)})),this.onMediaEvent(\"play\",(()=>{this.emit(\"play\"),this.timer.start()})),this.onMediaEvent(\"pause\",(()=>{this.emit(\"pause\"),this.timer.stop()})),this.onMediaEvent(\"emptied\",(()=>{this.timer.stop()})),this.onMediaEvent(\"ended\",(()=>{this.emit(\"finish\")})),this.onMediaEvent(\"seeking\",(()=>{this.emit(\"seeking\",this.getCurrentTime())})),this.onMediaEvent(\"error\",(t=>{this.emit(\"error\",t.error)})))}initRendererEvents(){this.subscriptions.push(this.renderer.on(\"click\",((t,e)=>{this.options.interact&&(this.seekTo(t),this.emit(\"interaction\",t*this.getDuration()),this.emit(\"click\",t,e))})),this.renderer.on(\"dblclick\",((t,e)=>{this.emit(\"dblclick\",t,e)})),this.renderer.on(\"scroll\",((t,e,i,s)=>{const n=this.getDuration();this.emit(\"scroll\",t*n,e*n,i,s)})),this.renderer.on(\"render\",(()=>{this.emit(\"redraw\")})),this.renderer.on(\"rendered\",(()=>{this.emit(\"redrawcomplete\")})),this.renderer.on(\"dragstart\",(t=>{this.emit(\"dragstart\",t)})),this.renderer.on(\"dragend\",(t=>{this.emit(\"dragend\",t)})));{let t;this.subscriptions.push(this.renderer.on(\"drag\",(e=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(e),clearTimeout(t),this.isPlaying()?i=0:!0===this.options.dragToSeek?i=200:\"object\"==typeof this.options.dragToSeek&&void 0!==this.options.dragToSeek&&(i=this.options.dragToSeek.debounceTime),t=setTimeout((()=>{this.seekTo(e)}),i),this.emit(\"interaction\",e*this.getDuration()),this.emit(\"drag\",e)})))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach((t=>{this.registerPlugin(t)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once(\"destroy\",(()=>{this.plugins=this.plugins.filter((e=>e!==t))}))),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const e=t/this.getDuration();this.renderer.setScrollPercentage(e)}getActivePlugins(){return this.plugins}loadAudio(e,s,n,r){return t(this,void 0,void 0,(function*(){var t;if(this.emit(\"load\",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!s&&!n){const i=this.options.fetchParams||{};window.AbortController&&!i.signal&&(this.abortController=new AbortController,i.signal=null===(t=this.abortController)||void 0===t?void 0:t.signal);const n=t=>this.emit(\"loading\",t);s=yield o.fetchBlob(e,n,i)}this.setSrc(e,s);const a=yield new Promise((t=>{const e=r||this.getDuration();e?t(e):this.mediaSubscriptions.push(this.onMediaEvent(\"loadedmetadata\",(()=>t(this.getDuration())),{once:!0}))}));if(!e&&!s){const t=this.getMediaElement();t instanceof d&&(t.duration=a)}if(n)this.decodedData=i.createBuffer(n,a||0);else if(s){const t=yield s.arrayBuffer();this.decodedData=yield i.decode(t,this.options.sampleRate)}this.decodedData&&(this.emit(\"decode\",this.getDuration()),this.renderer.render(this.decodedData)),this.emit(\"ready\",this.getDuration())}))}load(e,i,s){return t(this,void 0,void 0,(function*(){try{return yield this.loadAudio(e,void 0,i,s)}catch(t){throw this.emit(\"error\",t),t}}))}loadBlob(e,i,s){return t(this,void 0,void 0,(function*(){try{return yield this.loadAudio(\"\",e,i,s)}catch(t){throw this.emit(\"error\",t),t}}))}zoom(t){if(!this.decodedData)throw new Error(\"No audio loaded\");this.renderer.zoom(t),this.emit(\"zoom\",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error(\"The audio has not been decoded yet\");const s=Math.min(t,this.decodedData.numberOfChannels),n=[];for(let t=0;t<s;t++){const s=this.decodedData.getChannelData(t),r=[],o=s.length/e;for(let t=0;t<e;t++){const e=s.slice(Math.floor(t*o),Math.ceil((t+1)*o));let n=0;for(let t=0;t<e.length;t++){const i=e[t];Math.abs(i)>Math.abs(n)&&(n=i)}r.push(Math.round(n*i)/i)}n.push(r)}return n}getDuration(){let t=super.getDuration()||0;return 0!==t&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit(\"timeupdate\",t)}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}playPause(){return t(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load(\"\",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return t(this,arguments,void 0,(function*(t=\"image/png\",e=1,i=\"dataURL\"){return this.renderer.exportImage(t,e,i)}))}destroy(){var t;this.emit(\"destroy\"),null===(t=this.abortController)||void 0===t||t.abort(),this.plugins.forEach((t=>t.destroy())),this.subscriptions.forEach((t=>t())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}u.BasePlugin=class extends e{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t()))}},u.dom=r;export{u as default};\n","function t(t,i,e,s){return new(e||(e=Promise))((function(o,r){function n(t){try{d(s.next(t))}catch(t){r(t)}}function a(t){try{d(s.throw(t))}catch(t){r(t)}}function d(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(n,a)}d((s=s.apply(t,i||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;class i{constructor(){this.listeners={}}on(t,i,e){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(i),null==e?void 0:e.once){const e=()=>{this.un(t,e),this.un(t,i)};return this.on(t,e),e}return()=>this.un(t,i)}un(t,i){var e;null===(e=this.listeners[t])||void 0===e||e.delete(i)}once(t,i){return this.on(t,i,{once:!0})}unAll(){this.listeners={}}emit(t,...i){this.listeners[t]&&this.listeners[t].forEach((t=>t(...i)))}}class e extends i{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t()))}}class s extends i{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on(\"tick\",(()=>{requestAnimationFrame((()=>{this.emit(\"tick\")}))})),this.emit(\"tick\")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const o=[\"audio/webm\",\"audio/wav\",\"audio/mpeg\",\"audio/mp4\",\"audio/mp3\"];class r extends e{constructor(t){var i,e,o,r,n,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:null!==(i=t.audioBitsPerSecond)&&void 0!==i?i:128e3,scrollingWaveform:null!==(e=t.scrollingWaveform)&&void 0!==e&&e,scrollingWaveformWindow:null!==(o=t.scrollingWaveformWindow)&&void 0!==o?o:5,continuousWaveform:null!==(r=t.continuousWaveform)&&void 0!==r&&r,renderRecordedAudio:null===(n=t.renderRecordedAudio)||void 0===n||n,mediaRecorderTimeslice:null!==(a=t.mediaRecorderTimeslice)&&void 0!==a?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new s,this.subscriptions.push(this.timer.on(\"tick\",(()=>{const t=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+t,this.emit(\"record-progress\",this.duration)})))}static create(t){return new r(t||{})}renderMicStream(t){var i;const e=new AudioContext,s=e.createMediaStreamSource(t),o=e.createAnalyser();s.connect(o),this.options.continuousWaveform&&(o.fftSize=32);const r=o.frequencyBinCount,n=new Float32Array(r);let a=0;this.wavesurfer&&(null!==(i=this.originalOptions)&&void 0!==i||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const d=setInterval((()=>{var t,i,s,d;if(!this.isWaveformPaused){if(o.getFloatTimeDomainData(n),this.options.scrollingWaveform){const t=Math.floor((this.options.scrollingWaveformWindow||0)*e.sampleRate),i=Math.min(t,this.dataWindow?this.dataWindow.length+r:r),s=new Float32Array(t);if(this.dataWindow){const e=Math.max(0,t-this.dataWindow.length);s.set(this.dataWindow.slice(-i+r),e)}s.set(n,t-r),this.dataWindow=s}else if(this.options.continuousWaveform){if(!this.dataWindow){const e=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):(null!==(i=null===(t=this.wavesurfer)||void 0===t?void 0:t.getWidth())&&void 0!==i?i:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(e)}let e=0;for(let t=0;t<r;t++){const i=Math.abs(n[t]);i>e&&(e=i)}if(a+1>this.dataWindow.length){const t=new Float32Array(2*this.dataWindow.length);t.set(this.dataWindow,0),this.dataWindow=t}this.dataWindow[a]=e,a++}else this.dataWindow=n;if(this.wavesurfer){const t=(null!==(d=null===(s=this.dataWindow)||void 0===s?void 0:s.length)&&void 0!==d?d:0)/100;this.wavesurfer.load(\"\",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:t).then((()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))})).catch((t=>{console.error(\"Error rendering real-time recording data:\",t)}))}}}),10);return{onDestroy:()=>{clearInterval(d),null==s||s.disconnect(),null==e||e.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(d),this.stopMic()}}}startMic(i){return t(this,void 0,void 0,(function*(){let t;try{t=yield navigator.mediaDevices.getUserMedia({audio:!(null==i?void 0:i.deviceId)||{deviceId:i.deviceId}})}catch(t){throw new Error(\"Error accessing the microphone: \"+t.message)}const{onDestroy:e,onEnd:s}=this.renderMicStream(t);return this.subscriptions.push(this.once(\"destroy\",e)),this.subscriptions.push(this.once(\"record-end\",s)),this.stream=t,t}))}stopMic(){this.stream&&(this.stream.getTracks().forEach((t=>t.stop())),this.stream=null,this.mediaRecorder=null)}startRecording(i){return t(this,void 0,void 0,(function*(){const t=this.stream||(yield this.startMic(i));this.dataWindow=null;const e=this.mediaRecorder||new MediaRecorder(t,{mimeType:this.options.mimeType||o.find((t=>MediaRecorder.isTypeSupported(t))),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=e,this.stopRecording();const s=[];e.ondataavailable=t=>{t.data.size>0&&s.push(t.data),this.emit(\"record-data-available\",t.data)};const r=t=>{var i;const o=new Blob(s,{type:e.mimeType});this.emit(t,o),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),null===(i=this.wavesurfer)||void 0===i||i.load(URL.createObjectURL(o)))};e.onpause=()=>r(\"record-pause\"),e.onstop=()=>r(\"record-end\"),e.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit(\"record-start\")}))}getDuration(){return this.duration}isRecording(){var t;return\"recording\"===(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}isPaused(){var t;return\"paused\"===(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}isActive(){var t;return\"inactive\"!==(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}stopRecording(){var t;this.isActive()&&(null===(t=this.mediaRecorder)||void 0===t||t.stop(),this.timer.stop())}pauseRecording(){var t,i;this.isRecording()&&(this.isWaveformPaused=!0,null===(t=this.mediaRecorder)||void 0===t||t.requestData(),null===(i=this.mediaRecorder)||void 0===i||i.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,null===(t=this.mediaRecorder)||void 0===t||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit(\"record-resume\"))}static getAvailableAudioDevices(){return t(this,void 0,void 0,(function*(){return navigator.mediaDevices.enumerateDevices().then((t=>t.filter((t=>\"audioinput\"===t.kind))))}))}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}export{r as default};\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport zip from \"lodash/zip\"\n\nimport { FileUploadClient } from \"@streamlit/lib/src/FileUploadClient\"\nimport {\n  WidgetInfo,\n  WidgetStateManager,\n} from \"@streamlit/lib/src/WidgetStateManager\"\nimport {\n  FileUploaderState as FileUploaderStateProto,\n  IFileURLs,\n  UploadedFileInfo as UploadedFileInfoProto,\n} from \"@streamlit/lib/src/proto\"\nimport { ensureError } from \"@streamlit/lib/src/util/ErrorHandling\"\n\ntype SuccessfulUpload = {\n  fileUrl: IFileURLs\n  file: File\n}\n\ntype FailedUpload = {\n  file: File\n  error: Error\n}\n\nexport const uploadFiles = async ({\n  files,\n  uploadClient,\n  widgetMgr,\n  widgetInfo,\n  fragmentId,\n}: {\n  files: File[]\n  uploadClient: FileUploadClient\n  widgetMgr: WidgetStateManager\n  widgetInfo: WidgetInfo\n  fragmentId?: string\n}): Promise<{\n  successfulUploads: SuccessfulUpload[]\n  failedUploads: FailedUpload[]\n}> => {\n  let fileUrls: IFileURLs[] = []\n\n  try {\n    fileUrls = await uploadClient.fetchFileURLs(files)\n  } catch (e) {\n    return {\n      successfulUploads: [],\n      failedUploads: files.map(file => ({ file, error: ensureError(e) })),\n    }\n  }\n\n  const filesWithUrls = zip(files, fileUrls)\n\n  const successfulUploads: SuccessfulUpload[] = []\n  const failedUploads: FailedUpload[] = []\n\n  await Promise.all(\n    filesWithUrls.map(async ([file, fileUrl]) => {\n      if (!file || !fileUrl || !fileUrl.uploadUrl || !fileUrl.fileId) {\n        return { file, fileUrl, error: new Error(\"No upload URL found\") }\n      }\n\n      try {\n        await uploadClient.uploadFile(\n          { id: fileUrl.fileId, formId: widgetInfo.formId || \"\" }, // TODO SEE IF DOWNSTREAM LOGIC CAN BE SIMPLIFIED\n          fileUrl.uploadUrl,\n          file\n        )\n        successfulUploads.push({ fileUrl, file })\n      } catch (e) {\n        const error = ensureError(e)\n        failedUploads.push({ file, error })\n      }\n    })\n  )\n\n  widgetMgr.setFileUploaderStateValue(\n    widgetInfo,\n    new FileUploaderStateProto({\n      uploadedFileInfo: successfulUploads.map(\n        ({ file, fileUrl }) =>\n          new UploadedFileInfoProto({\n            fileId: fileUrl.fileId,\n            fileUrls: fileUrl,\n            name: file.name,\n            size: file.size,\n          })\n      ),\n    }),\n    {\n      fromUi: true,\n    },\n    fragmentId\n  )\n\n  return { successfulUploads, failedUploads }\n}\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\n\nimport { useFormClearHelper } from \"@streamlit/lib/src/components/widgets/Form\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport {\n  isNullOrUndefined,\n  notNullOrUndefined,\n} from \"@streamlit/lib/src/util/utils\"\n\n/**\n * Think of useState, but the state is also persisted in the widget manager.\n * This allows you to have the state be persisted between mounting and unmounting of the component.\n * @param widgetMgr - The widget manager instance to use\n * @param id - The id of the widget to store the state for\n * @param key - The key of the state to store\n * @param defaultValue - The default value to use if the state is not set in the widget manager\n * @returns A tuple containing the current state and a function to set the state\n */\nconst useWidgetManagerElementState = <T,>({\n  widgetMgr,\n  id,\n  formId,\n  key,\n  defaultValue,\n}: {\n  widgetMgr: WidgetStateManager\n  id: string\n  formId?: string\n  key: string\n  defaultValue: T\n}): [T, (value: T) => void] => {\n  useEffect(() => {\n    const existingValue = widgetMgr.getElementState(id, key)\n    if (isNullOrUndefined(existingValue) && notNullOrUndefined(defaultValue)) {\n      widgetMgr.setElementState(id, key, defaultValue)\n    }\n  }, [widgetMgr, id, key, defaultValue])\n\n  const [state, setStateInternal] = useState<T>(\n    widgetMgr.getElementState(id, key) ?? defaultValue\n  )\n\n  const setState = useCallback(\n    (value: T) => {\n      widgetMgr.setElementState(id, key, value)\n      setStateInternal(value)\n    },\n    [widgetMgr, id, key]\n  )\n\n  const element = useMemo(() => ({ formId: formId || \"\" }), [formId])\n  const onFormCleared = useCallback(\n    () => setState(defaultValue),\n    [defaultValue, setState]\n  )\n\n  useFormClearHelper({\n    element,\n    widgetMgr,\n    onFormCleared,\n  })\n\n  return [state, setState]\n}\n\nexport default useWidgetManagerElementState\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback } from \"react\"\n\nimport { LibContext } from \"@streamlit/lib/src/components/core/LibContext\"\nimport createDownloadLinkElement from \"@streamlit/lib/src/util/createDownloadLinkElement\"\n\nconst useDownloadUrl = (\n  url: string | null,\n  filename: string\n): (() => void) => {\n  const {\n    libConfig: { enforceDownloadInNewTab = false }, // Default to false, if no libConfig, e.g. for tests\n  } = React.useContext(LibContext)\n\n  const downloadUrl = useCallback(() => {\n    if (!url) return\n\n    const link = createDownloadLinkElement({\n      enforceDownloadInNewTab,\n      url,\n      filename,\n    })\n\n    link.style.display = \"none\"\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }, [url, enforceDownloadInNewTab, filename])\n\n  return downloadUrl\n}\n\nexport default useDownloadUrl\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { Spinner } from \"baseui/spinner\"\n\nexport const StyledAudioInputContainerDiv = styled.div()\n\nexport const StyledWaveformContainerDiv = styled.div(({ theme }) => ({\n  height: theme.sizes.largestElementHeight,\n  width: \"100%\",\n  background: theme.colors.secondaryBg,\n  borderRadius: theme.radii.default,\n  marginBottom: theme.spacing.twoXS,\n  display: \"flex\",\n  alignItems: \"center\",\n  position: \"relative\",\n  paddingLeft: theme.spacing.xs,\n  paddingRight: theme.spacing.sm,\n}))\n\nexport const StyledWaveformInnerDiv = styled.div({\n  flex: 1,\n})\n\nexport const StyledWaveSurferDiv = styled.div<{ show: boolean }>(\n  ({ show }) => ({\n    display: show ? \"block\" : \"none\",\n  })\n)\n\nexport const StyledWaveformTimeCode = styled.span<{\n  isPlayingOrRecording: boolean\n}>(({ theme, isPlayingOrRecording }) => ({\n  margin: theme.spacing.sm,\n  fontFamily: theme.fonts.monospace,\n  color: isPlayingOrRecording\n    ? theme.colors.bodyText\n    : theme.colors.fadedText60,\n  backgroundColor: theme.colors.secondaryBg,\n  fontSize: theme.fontSizes.sm,\n}))\n\nexport const StyledErrorContainerDiv = styled.div({\n  width: \"100%\",\n  textAlign: \"center\",\n  overflow: \"hidden\",\n})\n\nexport const StyledErrorTextSpan = styled.span(({ theme }) => ({\n  color: theme.colors.bodyText,\n}))\n\nexport const StyledNoMicInputLearnMoreLink = styled.a(({ theme }) => ({\n  color: theme.colors.linkText,\n  textDecoration: \"underline\",\n}))\n\n// Placeholder\nexport const StyledPlaceholderContainerDiv = styled.div(({ theme }) => ({\n  height: theme.sizes.largestElementHeight,\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n}))\n\nexport const StyledPlaceholderDotsDiv = styled.div(({ theme }) => {\n  const dotSize = \"0.625em\"\n  return {\n    opacity: 0.2,\n    width: \"100%\",\n    height: dotSize,\n    backgroundSize: dotSize,\n    backgroundImage: `radial-gradient(${theme.colors.fadedText10} 40%, transparent 40%)`,\n    backgroundRepeat: \"repeat\",\n  }\n})\n\nexport const StyledActionButtonStopRecordingDiv = styled.span(({ theme }) => ({\n  \"& > button\": {\n    color: theme.colors.primary,\n    padding: theme.spacing.threeXS,\n  },\n  \"& > button:hover, & > button:focus\": {\n    color: theme.colors.red,\n  },\n}))\n\nexport const StyledActionButtonStartRecordingDiv = styled.span(\n  ({ theme }) => ({\n    \"& > button\": {\n      padding: theme.spacing.threeXS,\n      color: theme.colors.fadedText40,\n    },\n    \"& > button:hover, & > button:focus\": {\n      color: theme.colors.primary,\n    },\n  })\n)\n\nexport const StyledActionButtonPlayPauseDiv = styled.span(({ theme }) => ({\n  \"& > button\": {\n    padding: theme.spacing.threeXS,\n    color: theme.colors.fadedText60,\n  },\n  \"& > button:hover, & > button:focus\": {\n    color: theme.colors.bodyText,\n  },\n}))\n\nexport const StyledActionButtonContainerDiv = styled.div(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  flexGrow: 0,\n  flexShrink: 1,\n  padding: theme.spacing.xs,\n  gap: theme.spacing.twoXS,\n  marginRight: theme.spacing.twoXS,\n}))\n\nexport const StyledWidgetLabelHelp = styled.div(({ theme }) => ({\n  marginLeft: theme.spacing.sm,\n}))\n\nexport const StyledSpinner = styled(Spinner)(({ theme }) => {\n  return {\n    fontSize: theme.fontSizes.sm,\n    width: theme.sizes.spinnerSize,\n    height: theme.sizes.spinnerSize,\n    borderWidth: theme.sizes.spinnerThickness,\n    radius: theme.radii.md,\n    justifyContents: \"center\",\n    padding: theme.spacing.none,\n    margin: theme.spacing.none,\n    borderColor: theme.colors.borderColor,\n    borderTopColor: theme.colors.primary,\n    flexGrow: 0,\n    flexShrink: 0,\n  }\n})\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\n\nimport { ENABLE_PERIPHERALS_DOCS_URL } from \"@streamlit/lib/src/urls\"\n\nimport {\n  StyledErrorContainerDiv,\n  StyledErrorTextSpan,\n  StyledNoMicInputLearnMoreLink,\n} from \"./styled-components\"\n\nconst NoMicPermissions = (): ReactElement => {\n  return (\n    <StyledErrorContainerDiv>\n      <StyledErrorTextSpan>\n        This app would like to use your microphone.\n      </StyledErrorTextSpan>{\" \"}\n      <StyledNoMicInputLearnMoreLink href={ENABLE_PERIPHERALS_DOCS_URL}>\n        Learn how to allow access.\n      </StyledNoMicInputLearnMoreLink>\n    </StyledErrorContainerDiv>\n  )\n}\n\nexport default NoMicPermissions\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\n\nimport {\n  StyledPlaceholderContainerDiv,\n  StyledPlaceholderDotsDiv,\n} from \"./styled-components\"\n\nconst Placeholder = (): ReactElement => {\n  return (\n    <StyledPlaceholderContainerDiv>\n      <StyledPlaceholderDotsDiv />\n    </StyledPlaceholderContainerDiv>\n  )\n}\n\nexport default Placeholder\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const WAVEFORM_PADDING = 4\nexport const BAR_WIDTH = 4\nexport const BAR_GAP = 4\nexport const BAR_RADIUS = 8\nexport const CURSOR_WIDTH = 0\n\nexport const STARTING_TIME_STRING = \"00:00\"\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst formatTime = (timeMs: number): string => {\n  const date = new Date(timeMs)\n\n  return date.toLocaleTimeString(undefined, {\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    timeZone: \"UTC\",\n  })\n}\n\nexport default formatTime\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { memo } from \"react\"\n\nimport { Mic } from \"@emotion-icons/material-outlined\"\nimport {\n  Pause,\n  PlayArrow,\n  Refresh,\n  StopCircle,\n} from \"@emotion-icons/material-rounded\"\nimport { EmotionIcon } from \"@emotion-icons/emotion-icon\"\n\nimport BaseButton, {\n  BaseButtonKind,\n} from \"@streamlit/lib/src/components/shared/BaseButton\"\nimport Icon from \"@streamlit/lib/src/components/shared/Icon\"\n\nimport {\n  StyledActionButtonContainerDiv,\n  StyledActionButtonPlayPauseDiv,\n  StyledActionButtonStartRecordingDiv,\n  StyledActionButtonStopRecordingDiv,\n  StyledSpinner,\n} from \"./styled-components\"\n\ninterface BaseActionButtonProps {\n  onClick: () => void\n  disabled: boolean\n  ariaLabel: string\n  iconContent: EmotionIcon\n}\n\nconst ActionButton: React.FC<BaseActionButtonProps> = ({\n  onClick,\n  disabled,\n  ariaLabel,\n  iconContent,\n}) => (\n  <BaseButton\n    kind={BaseButtonKind.BORDERLESS_ICON}\n    onClick={onClick}\n    disabled={disabled}\n    aria-label={ariaLabel}\n    fluidWidth\n    data-testid=\"stAudioInputActionButton\"\n  >\n    <Icon content={iconContent} size=\"lg\" color=\"inherit\" />\n  </BaseButton>\n)\n\nexport interface AudioInputActionButtonProps {\n  disabled: boolean\n  isRecording: boolean\n  isPlaying: boolean\n  isUploading: boolean\n  isError: boolean\n  recordingUrlExists: boolean\n  startRecording(): void\n  stopRecording(): void\n  onClickPlayPause(): void\n  onClear(): void\n}\n\ninterface AudioInputStopRecordingButtonProps {\n  disabled: boolean\n  stopRecording(): void\n}\n\ninterface AudioInputPlayPauseButtonProps {\n  disabled: boolean\n  isPlaying: boolean\n  onClickPlayPause(): void\n}\n\ninterface AudioInputStartRecordingButtonProps {\n  disabled: boolean\n  startRecording(): void\n}\n\ninterface AudioInputResetButtonProps {\n  onClick(): void\n}\n\nexport const AudioInputStopRecordingButton: React.FC<\n  AudioInputStopRecordingButtonProps\n> = ({ disabled, stopRecording }) => (\n  <StyledActionButtonStopRecordingDiv>\n    <ActionButton\n      onClick={stopRecording}\n      disabled={disabled}\n      ariaLabel=\"Stop recording\"\n      iconContent={StopCircle}\n    />\n  </StyledActionButtonStopRecordingDiv>\n)\n\nexport const AudioInputPlayPauseButton: React.FC<\n  AudioInputPlayPauseButtonProps\n> = ({ disabled, isPlaying, onClickPlayPause }) => {\n  return (\n    <StyledActionButtonPlayPauseDiv>\n      {isPlaying ? (\n        <ActionButton\n          onClick={onClickPlayPause}\n          disabled={disabled}\n          ariaLabel=\"Pause\"\n          iconContent={Pause}\n        />\n      ) : (\n        <ActionButton\n          onClick={onClickPlayPause}\n          disabled={disabled}\n          ariaLabel=\"Play\"\n          iconContent={PlayArrow}\n        />\n      )}\n    </StyledActionButtonPlayPauseDiv>\n  )\n}\n\nexport const AudioInputStartRecordingButton: React.FC<\n  AudioInputStartRecordingButtonProps\n> = ({ disabled, startRecording }) => (\n  <StyledActionButtonStartRecordingDiv>\n    <ActionButton\n      onClick={startRecording}\n      disabled={disabled}\n      ariaLabel=\"Record\"\n      iconContent={Mic}\n    />\n  </StyledActionButtonStartRecordingDiv>\n)\n\nexport const AudioInputResetButton: React.FC<AudioInputResetButtonProps> = ({\n  onClick,\n}) => (\n  <StyledActionButtonPlayPauseDiv>\n    <ActionButton\n      disabled={false}\n      onClick={onClick}\n      ariaLabel=\"Reset\"\n      iconContent={Refresh}\n    />\n  </StyledActionButtonPlayPauseDiv>\n)\n\nconst AudioInputActionButtons: React.FC<AudioInputActionButtonProps> = ({\n  disabled,\n  isRecording,\n  isPlaying,\n  isUploading,\n  isError,\n  recordingUrlExists,\n  startRecording,\n  stopRecording,\n  onClickPlayPause,\n  onClear,\n}) => {\n  if (isError) {\n    return (\n      <StyledActionButtonContainerDiv>\n        <AudioInputResetButton onClick={onClear} />\n      </StyledActionButtonContainerDiv>\n    )\n  }\n\n  if (isUploading) {\n    return (\n      <StyledActionButtonContainerDiv>\n        <StyledSpinner aria-label=\"Uploading\" />\n      </StyledActionButtonContainerDiv>\n    )\n  }\n\n  return (\n    <StyledActionButtonContainerDiv>\n      {isRecording ? (\n        <AudioInputStopRecordingButton\n          disabled={disabled}\n          stopRecording={stopRecording}\n        />\n      ) : (\n        <AudioInputStartRecordingButton\n          disabled={disabled}\n          startRecording={startRecording}\n        />\n      )}\n      {recordingUrlExists && (\n        <AudioInputPlayPauseButton\n          disabled={disabled}\n          isPlaying={isPlaying}\n          onClickPlayPause={onClickPlayPause}\n        />\n      )}\n    </StyledActionButtonContainerDiv>\n  )\n}\n\nexport default memo(AudioInputActionButtons)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// code in this file was adapted from recorder.js library\n\nimport { logError } from \"@streamlit/lib/src/util/log\"\n\n/**\n * Converts a file Blob (audio/video) to a WAV Blob.\n * @param fileBlob - The input file as a Blob.\n * @returns - A Promise resolving with the WAV file as a Blob.\n */\nasync function convertFileToWav(fileBlob: Blob): Promise<Blob | undefined> {\n  const audioContext = new window.AudioContext()\n  const arrayBuffer = await fileBlob.arrayBuffer()\n\n  let audioBuffer: AudioBuffer\n  try {\n    audioBuffer = await audioContext.decodeAudioData(arrayBuffer)\n  } catch (error) {\n    logError(error)\n    return undefined // Return undefined if decoding fails\n  }\n\n  const HEADER_HEIGHT = 44\n  const numOfChan = audioBuffer.numberOfChannels\n  const sampleRate = audioBuffer.sampleRate\n  const length = audioBuffer.length * numOfChan * 2 + HEADER_HEIGHT\n  const buffer = new ArrayBuffer(length)\n  const view = new DataView(buffer)\n\n  // WAV header metadata\n  const wavHeader = {\n    0: { type: \"string\", value: \"RIFF\" },\n    4: { type: \"uint32\", value: length - 8 },\n    8: { type: \"string\", value: \"WAVE\" },\n    12: { type: \"string\", value: \"fmt \" },\n    16: { type: \"uint32\", value: 16 }, // PCM format\n    20: { type: \"uint16\", value: 1 }, // PCM format code\n    22: { type: \"uint16\", value: numOfChan }, // Number of channels\n    24: { type: \"uint32\", value: sampleRate }, // Sample rate\n    28: { type: \"uint32\", value: sampleRate * numOfChan * 2 }, // Byte rate\n    32: { type: \"uint16\", value: numOfChan * 2 }, // Block align\n    34: { type: \"uint16\", value: 16 }, // Bits per sample (16-bit)\n    36: { type: \"string\", value: \"data\" },\n    40: { type: \"uint32\", value: audioBuffer.length * numOfChan * 2 }, // Data chunk length\n  }\n\n  // Write WAV header from the dictionary using Object.entries\n  Object.entries(wavHeader).forEach(([offset, { type, value }]) => {\n    const intOffset = parseInt(offset, 10)\n    if (type === \"string\") {\n      writeString(view, intOffset, value as string)\n    } else if (type === \"uint32\") {\n      view.setUint32(intOffset, value as number, true)\n    } else if (type === \"uint16\") {\n      view.setUint16(intOffset, value as number, true)\n    }\n  })\n\n  // Write PCM data\n  let offset = HEADER_HEIGHT\n  for (let i = 0; i < audioBuffer.length; i++) {\n    for (let channel = 0; channel < numOfChan; channel++) {\n      const sample = Math.max(\n        -1,\n        Math.min(1, audioBuffer.getChannelData(channel)[i])\n      )\n      view.setInt16(offset, sample * 0x7fff, true)\n      offset += 2\n    }\n  }\n\n  const wavArray = new Uint8Array(buffer)\n  return new Blob([wavArray], { type: \"audio/wav\" })\n}\n\n/**\n * Writes a string to a DataView at the specified offset.\n * @param view - The DataView to write to.\n * @param offset - The starting offset in the DataView.\n * @param string - The string to write.\n */\nfunction writeString(view: DataView, offset: number, string: string): void {\n  for (let i = 0; i < string.length; i++) {\n    view.setUint8(offset + i, string.charCodeAt(i))\n  }\n}\n\nexport default convertFileToWav\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\n\nimport {\n  StyledErrorContainerDiv,\n  StyledErrorTextSpan,\n} from \"./styled-components\"\n\nconst AudioInputErrorState = (): ReactElement => {\n  return (\n    <StyledErrorContainerDiv>\n      <StyledErrorTextSpan>\n        An error has occurred, please try again.\n      </StyledErrorTextSpan>\n    </StyledErrorContainerDiv>\n  )\n}\n\nexport default AudioInputErrorState\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n  memo,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\"\n\nimport { useTheme } from \"@emotion/react\"\nimport WaveSurfer from \"wavesurfer.js\"\nimport RecordPlugin from \"wavesurfer.js/dist/plugins/record\"\nimport { Delete, FileDownload } from \"@emotion-icons/material-outlined\"\nimport isEqual from \"lodash/isEqual\"\n\nimport { FormClearHelper } from \"@streamlit/lib/src/components/widgets/Form\"\nimport { FileUploadClient } from \"@streamlit/lib/src/FileUploadClient\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport { AudioInput as AudioInputProto } from \"@streamlit/lib/src/proto\"\nimport Toolbar, {\n  ToolbarAction,\n} from \"@streamlit/lib/src/components/shared/Toolbar\"\nimport {\n  isNullOrUndefined,\n  labelVisibilityProtoValueToEnum,\n  notNullOrUndefined,\n} from \"@streamlit/lib/src/util/utils\"\nimport { blend, convertRemToPx } from \"@streamlit/lib/src/theme/utils\"\nimport { uploadFiles } from \"@streamlit/lib/src/util/uploadFiles\"\nimport TooltipIcon from \"@streamlit/lib/src/components/shared/TooltipIcon\"\nimport { Placement } from \"@streamlit/lib/src/components/shared/Tooltip\"\nimport { WidgetLabel } from \"@streamlit/lib/src/components/widgets/BaseWidget\"\nimport { usePrevious } from \"@streamlit/lib/src/util/Hooks\"\nimport useWidgetManagerElementState from \"@streamlit/lib/src/hooks/useWidgetManagerElementState\"\nimport useDownloadUrl from \"@streamlit/lib/src/hooks/useDownloadUrl\"\n\nimport {\n  StyledAudioInputContainerDiv,\n  StyledWaveformContainerDiv,\n  StyledWaveformInnerDiv,\n  StyledWaveformTimeCode,\n  StyledWaveSurferDiv,\n  StyledWidgetLabelHelp,\n} from \"./styled-components\"\nimport NoMicPermissions from \"./NoMicPermissions\"\nimport Placeholder from \"./Placeholder\"\nimport {\n  BAR_GAP,\n  BAR_RADIUS,\n  BAR_WIDTH,\n  CURSOR_WIDTH,\n  STARTING_TIME_STRING,\n  WAVEFORM_PADDING,\n} from \"./constants\"\nimport formatTime from \"./formatTime\"\nimport AudioInputActionButtons from \"./AudioInputActionButtons\"\nimport convertAudioToWav from \"./convertAudioToWav\"\nimport AudioInputErrorState from \"./AudioInputErrorState\"\n\nexport interface Props {\n  element: AudioInputProto\n  uploadClient: FileUploadClient\n  widgetMgr: WidgetStateManager\n  fragmentId?: string\n  disabled: boolean\n}\n\nconst AudioInput: React.FC<Props> = ({\n  element,\n  uploadClient,\n  widgetMgr,\n  fragmentId,\n  disabled,\n}): ReactElement => {\n  const theme = useTheme()\n  const previousTheme = usePrevious(theme)\n  const [wavesurfer, setWavesurfer] = useState<WaveSurfer | null>(null)\n  const waveSurferRef = React.useRef<HTMLDivElement | null>(null)\n  const [deleteFileUrl, setDeleteFileUrl] = useWidgetManagerElementState<\n    string | null\n  >({\n    widgetMgr,\n    id: element.id,\n    key: \"deleteFileUrl\",\n    defaultValue: null,\n  })\n  const [recordPlugin, setRecordPlugin] = useState<RecordPlugin | null>(null)\n  // to eventually show the user the available audio devices\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [availableAudioDevices, setAvailableAudioDevices] = useState<\n    MediaDeviceInfo[]\n  >([])\n  const [activeAudioDeviceId, setActiveAudioDeviceId] = useState<\n    string | null\n  >(null)\n\n  const [recordingUrl, setRecordingUrl] = useWidgetManagerElementState<\n    string | null\n  >({\n    widgetMgr,\n    id: element.id,\n    key: \"recordingUrl\",\n    defaultValue: null,\n  })\n  const [, setRerender] = useState(0)\n  const forceRerender = (): void => {\n    setRerender(prev => prev + 1)\n  }\n  const [progressTime, setProgressTime] = useState(STARTING_TIME_STRING)\n\n  const [recordingTime, setRecordingTime] =\n    useWidgetManagerElementState<string>({\n      widgetMgr,\n      id: element.id,\n      formId: element.formId,\n      key: \"recordingTime\",\n      defaultValue: STARTING_TIME_STRING,\n    })\n\n  const [shouldUpdatePlaybackTime, setShouldUpdatePlaybackTime] =\n    useState(false)\n  const [hasNoMicPermissions, setHasNoMicPermissions] = useState(false)\n  const [hasRequestedMicPermissions, setHasRequestedMicPermissions] =\n    useState(false)\n  const [isUploading, setIsUploading] = useState(false)\n  const [isError, setIsError] = useState(false)\n\n  const widgetId = element.id\n  const widgetFormId = element.formId\n\n  const transcodeAndUploadFile = useCallback(\n    async (blob: Blob) => {\n      setIsUploading(true)\n      if (notNullOrUndefined(widgetFormId))\n        widgetMgr.setFormsWithUploadsInProgress(new Set([widgetFormId]))\n\n      let wavBlob: Blob | undefined = undefined\n\n      if (blob.type === \"audio/wav\") {\n        wavBlob = blob\n      } else {\n        wavBlob = await convertAudioToWav(blob)\n      }\n\n      if (!wavBlob) {\n        setIsError(true)\n        return\n      }\n\n      const url = URL.createObjectURL(wavBlob)\n      const timestamp = new Date().toISOString().slice(0, 16).replace(\":\", \"-\")\n      const file = new File([wavBlob], `${timestamp}_audio.wav`, {\n        type: wavBlob.type,\n      })\n\n      setRecordingUrl(url)\n\n      uploadFiles({\n        files: [file],\n        uploadClient,\n        widgetMgr,\n        widgetInfo: { id: widgetId, formId: widgetFormId },\n        fragmentId,\n      })\n        .then(({ successfulUploads, failedUploads }) => {\n          if (failedUploads.length > 0) {\n            setIsError(true)\n            return\n          }\n          const upload = successfulUploads[0]\n          if (upload && upload.fileUrl.deleteUrl) {\n            setDeleteFileUrl(upload.fileUrl.deleteUrl)\n          }\n        })\n        .finally(() => {\n          if (notNullOrUndefined(widgetFormId))\n            widgetMgr.setFormsWithUploadsInProgress(new Set())\n\n          setIsUploading(false)\n        })\n    },\n    [\n      setRecordingUrl,\n      uploadClient,\n      widgetMgr,\n      widgetId,\n      widgetFormId,\n      fragmentId,\n      setDeleteFileUrl,\n    ]\n  )\n\n  const handleClear = useCallback(\n    ({\n      updateWidgetManager,\n      deleteFile,\n    }: {\n      updateWidgetManager: boolean\n      deleteFile: boolean\n    }) => {\n      if (isNullOrUndefined(wavesurfer) || isNullOrUndefined(deleteFileUrl)) {\n        return\n      }\n      setRecordingUrl(null)\n      wavesurfer.empty()\n      if (deleteFile) {\n        uploadClient.deleteFile(deleteFileUrl)\n      }\n      setDeleteFileUrl(null)\n      setProgressTime(STARTING_TIME_STRING)\n      setRecordingTime(STARTING_TIME_STRING)\n      if (updateWidgetManager) {\n        widgetMgr.setFileUploaderStateValue(\n          element,\n          {},\n          { fromUi: true },\n          fragmentId\n        )\n      }\n      setShouldUpdatePlaybackTime(false)\n      if (notNullOrUndefined(recordingUrl)) {\n        URL.revokeObjectURL(recordingUrl)\n      }\n    },\n    [\n      deleteFileUrl,\n      recordingUrl,\n      uploadClient,\n      wavesurfer,\n      element,\n      widgetMgr,\n      fragmentId,\n      setRecordingTime,\n      setRecordingUrl,\n      setDeleteFileUrl,\n    ]\n  )\n\n  useEffect(() => {\n    if (isNullOrUndefined(widgetFormId)) return\n\n    const formClearHelper = new FormClearHelper()\n    formClearHelper.manageFormClearListener(widgetMgr, widgetFormId, () =>\n      handleClear({ updateWidgetManager: true, deleteFile: false })\n    )\n\n    return () => formClearHelper.disconnect()\n  }, [widgetFormId, handleClear, widgetMgr])\n\n  const initializeWaveSurfer = useCallback(() => {\n    if (waveSurferRef.current === null) return\n\n    const ws = WaveSurfer.create({\n      container: waveSurferRef.current,\n      waveColor: recordingUrl\n        ? blend(theme.colors.fadedText40, theme.colors.secondaryBg)\n        : theme.colors.primary,\n      progressColor: theme.colors.bodyText,\n      height:\n        convertRemToPx(theme.sizes.largestElementHeight) -\n        2 * WAVEFORM_PADDING,\n      barWidth: BAR_WIDTH,\n      barGap: BAR_GAP,\n      barRadius: BAR_RADIUS,\n      cursorWidth: CURSOR_WIDTH,\n      url: recordingUrl ?? undefined,\n    })\n\n    ws.on(\"timeupdate\", time => {\n      setProgressTime(formatTime(time * 1000)) // get from seconds to milliseconds\n    })\n\n    ws.on(\"pause\", () => {\n      forceRerender()\n    })\n\n    const rp = ws.registerPlugin(\n      RecordPlugin.create({\n        scrollingWaveform: false,\n        renderRecordedAudio: true,\n      })\n    )\n\n    rp.on(\"record-end\", async blob => {\n      transcodeAndUploadFile(blob)\n    })\n\n    rp.on(\"record-progress\", time => {\n      setRecordingTime(formatTime(time))\n    })\n\n    setWavesurfer(ws)\n    setRecordPlugin(rp)\n\n    return () => {\n      if (ws) ws.destroy()\n      if (rp) rp.destroy()\n    }\n    // note: intentionally excluding theme so that we don't have to recreate the wavesurfer instance\n    // and colors will be updated separately\n    // TODO: Update to match React best practices\n    // eslint-disable-next-line react-compiler/react-compiler\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [transcodeAndUploadFile])\n\n  useEffect(() => initializeWaveSurfer(), [initializeWaveSurfer])\n\n  useEffect(() => {\n    if (!isEqual(previousTheme, theme)) {\n      wavesurfer?.setOptions({\n        waveColor: recordingUrl\n          ? blend(theme.colors.fadedText40, theme.colors.secondaryBg)\n          : theme.colors.primary,\n        progressColor: theme.colors.bodyText,\n      })\n    }\n  }, [theme, previousTheme, recordingUrl, wavesurfer])\n\n  const onClickPlayPause = useCallback(() => {\n    if (wavesurfer) {\n      wavesurfer.playPause()\n      // This is because we want the time to be the duration of the audio when they stop recording,\n      // but once they start playing it, we want it to be the current time. So, once they start playing it\n      // we'll start keeping track of the playback time from that point onwards (until re-recording).\n      setShouldUpdatePlaybackTime(true)\n      // despite the state change above, this is still needed to force a rerender and make the time styling work\n      forceRerender()\n    }\n  }, [wavesurfer])\n\n  const startRecording = useCallback(async () => {\n    let audioDeviceId = activeAudioDeviceId\n\n    if (!hasRequestedMicPermissions) {\n      // this first part is to ensure we prompt for getting the user's media devices\n      await navigator.mediaDevices\n        .getUserMedia({ audio: true })\n        .then(() =>\n          RecordPlugin.getAvailableAudioDevices().then(devices => {\n            setAvailableAudioDevices(devices)\n            if (devices.length > 0) {\n              const { deviceId } = devices[0]\n              setActiveAudioDeviceId(deviceId)\n              audioDeviceId = deviceId\n            }\n          })\n        )\n        .catch(_err => {\n          setHasNoMicPermissions(true)\n        })\n      setHasRequestedMicPermissions(true)\n    }\n\n    if (!recordPlugin || !audioDeviceId || !wavesurfer) {\n      return\n    }\n\n    wavesurfer.setOptions({\n      waveColor: theme.colors.primary,\n    })\n\n    if (recordingUrl) {\n      handleClear({ updateWidgetManager: false, deleteFile: true })\n    }\n\n    recordPlugin.startRecording({ deviceId: audioDeviceId }).then(() => {\n      // Update the record button to show the user that they can stop recording\n      forceRerender()\n    })\n  }, [\n    activeAudioDeviceId,\n    recordPlugin,\n    theme,\n    wavesurfer,\n    recordingUrl,\n    handleClear,\n    hasRequestedMicPermissions,\n  ])\n\n  const stopRecording = useCallback(() => {\n    if (!recordPlugin) return\n\n    recordPlugin.stopRecording()\n\n    wavesurfer?.setOptions({\n      // We are blending this color instead of directly using the theme color (fadedText40)\n      // because the \"faded\" part of fadedText40 means introducing some transparency, which\n      // causes problems with the progress waveform color because wavesurfer is choosing to\n      // tint the waveColor with the progressColor instead of directly setting the progressColor.\n      // This means that the low opacity of fadedText40 causes the progress waveform to\n      // have the same opacity which makes it impossible to darken it enough to match designs.\n      // We fix this by blending the colors to figure out what the resulting color should be at\n      // full opacity, and we usee that color to set the waveColor.\n      waveColor: blend(theme.colors.fadedText40, theme.colors.secondaryBg),\n    })\n  }, [recordPlugin, wavesurfer, theme])\n\n  const downloadRecording = useDownloadUrl(recordingUrl, \"recording.wav\")\n\n  const isRecording = Boolean(recordPlugin?.isRecording())\n  const isPlaying = Boolean(wavesurfer?.isPlaying())\n\n  const isPlayingOrRecording = isRecording || isPlaying\n  const showPlaceholder = !isRecording && !recordingUrl && !hasNoMicPermissions\n\n  const showNoMicPermissionsOrPlaceholderOrError =\n    hasNoMicPermissions || showPlaceholder || isError\n\n  const isDisabled = disabled || hasNoMicPermissions\n\n  return (\n    <StyledAudioInputContainerDiv\n      className=\"stAudioInput\"\n      data-testid=\"stAudioInput\"\n    >\n      <WidgetLabel\n        label={element.label}\n        disabled={isDisabled}\n        labelVisibility={labelVisibilityProtoValueToEnum(\n          element.labelVisibility?.value\n        )}\n      >\n        {element.help && (\n          <StyledWidgetLabelHelp>\n            <TooltipIcon content={element.help} placement={Placement.TOP} />\n          </StyledWidgetLabelHelp>\n        )}\n      </WidgetLabel>\n      <StyledWaveformContainerDiv>\n        <Toolbar\n          isFullScreen={false}\n          disableFullscreenMode={true}\n          target={StyledWaveformContainerDiv}\n        >\n          {recordingUrl && (\n            <ToolbarAction\n              label=\"Download as WAV\"\n              icon={FileDownload}\n              onClick={() => downloadRecording()}\n            />\n          )}\n          {deleteFileUrl && (\n            <ToolbarAction\n              label=\"Clear recording\"\n              icon={Delete}\n              onClick={() =>\n                handleClear({ updateWidgetManager: true, deleteFile: true })\n              }\n            />\n          )}\n        </Toolbar>\n        <AudioInputActionButtons\n          isRecording={isRecording}\n          isPlaying={isPlaying}\n          isUploading={isUploading}\n          isError={isError}\n          recordingUrlExists={Boolean(recordingUrl)}\n          startRecording={startRecording}\n          stopRecording={stopRecording}\n          onClickPlayPause={onClickPlayPause}\n          onClear={() => {\n            handleClear({ updateWidgetManager: false, deleteFile: true })\n            setIsError(false)\n          }}\n          disabled={isDisabled}\n        />\n        <StyledWaveformInnerDiv>\n          {isError && <AudioInputErrorState />}\n          {showPlaceholder && <Placeholder />}\n          {hasNoMicPermissions && <NoMicPermissions />}\n          <StyledWaveSurferDiv\n            data-testid=\"stAudioInputWaveSurfer\"\n            ref={waveSurferRef}\n            show={!showNoMicPermissionsOrPlaceholderOrError}\n          />\n        </StyledWaveformInnerDiv>\n        <StyledWaveformTimeCode\n          isPlayingOrRecording={isPlayingOrRecording}\n          data-testid=\"stAudioInputWaveformTimeCode\"\n        >\n          {shouldUpdatePlaybackTime ? progressTime : recordingTime}\n        </StyledWaveformTimeCode>\n      </StyledWaveformContainerDiv>\n    </StyledAudioInputContainerDiv>\n  )\n}\n\nexport default memo(AudioInput)\n"],"names":["Mic","React.forwardRef","props","ref","attrs","React.createElement","EmotionIconBase","_extends","Pause","PlayArrow","Refresh","StopCircle","t","i","s","n","r","o","h","a","e","e$1","l","d","c","u","p","m","g","f","v","b","uploadFiles","files","uploadClient","widgetMgr","widgetInfo","fragmentId","fileUrls","fetchFileURLs","successfulUploads","failedUploads","map","file","error","ensureError","filesWithUrls","zip","Promise","all","fileUrl","uploadUrl","fileId","Error","uploadFile","id","formId","push","setFileUploaderStateValue","FileUploaderStateProto","uploadedFileInfo","UploadedFileInfoProto","name","size","fromUi","useWidgetManagerElementState","key","defaultValue","useEffect","existingValue","getElementState","isNullOrUndefined","notNullOrUndefined","setElementState","state","setStateInternal","useState","setState","useCallback","value","element","useMemo","onFormCleared","useFormClearHelper","useDownloadUrl","url","filename","libConfig","enforceDownloadInNewTab","React","useContext","LibContext","downloadUrl","link","createDownloadLinkElement","style","display","body","appendChild","click","removeChild","StyledAudioInputContainerDiv","target","StyledWaveformContainerDiv","theme","height","sizes","largestElementHeight","width","background","colors","secondaryBg","borderRadius","radii","default","marginBottom","spacing","twoXS","alignItems","position","paddingLeft","xs","paddingRight","sm","StyledWaveformInnerDiv","styles","StyledWaveSurferDiv","show","StyledWaveformTimeCode","isPlayingOrRecording","margin","fontFamily","fonts","monospace","color","bodyText","fadedText60","backgroundColor","fontSize","fontSizes","StyledErrorContainerDiv","StyledErrorTextSpan","StyledNoMicInputLearnMoreLink","linkText","textDecoration","StyledPlaceholderContainerDiv","justifyContent","StyledPlaceholderDotsDiv","dotSize","opacity","backgroundSize","backgroundImage","fadedText10","backgroundRepeat","StyledActionButtonStopRecordingDiv","primary","padding","threeXS","red","StyledActionButtonStartRecordingDiv","fadedText40","StyledActionButtonPlayPauseDiv","StyledActionButtonContainerDiv","flexGrow","flexShrink","gap","marginRight","StyledWidgetLabelHelp","marginLeft","StyledSpinner","Spinner","spinnerSize","borderWidth","spinnerThickness","radius","md","justifyContents","none","borderColor","borderTopColor","NoMicPermissions","jsx","ENABLE_PERIPHERALS_DOCS_URL","Placeholder","WAVEFORM_PADDING","BAR_WIDTH","BAR_GAP","BAR_RADIUS","CURSOR_WIDTH","STARTING_TIME_STRING","formatTime","timeMs","Date","toLocaleTimeString","undefined","minute","second","timeZone","ActionButton","onClick","disabled","ariaLabel","iconContent","BaseButton","BaseButtonKind","BORDERLESS_ICON","Icon","AudioInputStopRecordingButton","stopRecording","AudioInputPlayPauseButton","isPlaying","onClickPlayPause","AudioInputStartRecordingButton","startRecording","AudioInputResetButton","AudioInputActionButtons","isRecording","isUploading","isError","recordingUrlExists","onClear","memo","convertFileToWav","fileBlob","audioContext","window","AudioContext","arrayBuffer","audioBuffer","decodeAudioData","logError","HEADER_HEIGHT","numOfChan","numberOfChannels","sampleRate","length","buffer","ArrayBuffer","view","DataView","wavHeader","type","Object","entries","forEach","offset","intOffset","parseInt","setUint32","setUint16","channel","sample","Math","max","min","getChannelData","setInt16","wavArray","Uint8Array","Blob","writeString","string","setUint8","charCodeAt","AudioInputErrorState","AudioInput","useTheme","previousTheme","usePrevious","wavesurfer","setWavesurfer","waveSurferRef","useRef","deleteFileUrl","setDeleteFileUrl","recordPlugin","setRecordPlugin","availableAudioDevices","setAvailableAudioDevices","activeAudioDeviceId","setActiveAudioDeviceId","recordingUrl","setRecordingUrl","setRerender","forceRerender","prev","progressTime","setProgressTime","recordingTime","setRecordingTime","shouldUpdatePlaybackTime","setShouldUpdatePlaybackTime","hasNoMicPermissions","setHasNoMicPermissions","hasRequestedMicPermissions","setHasRequestedMicPermissions","setIsUploading","setIsError","widgetId","widgetFormId","transcodeAndUploadFile","blob","setFormsWithUploadsInProgress","Set","wavBlob","convertAudioToWav","URL","createObjectURL","timestamp","toISOString","slice","replace","File","then","upload","deleteUrl","finally","handleClear","updateWidgetManager","deleteFile","empty","revokeObjectURL","formClearHelper","FormClearHelper","manageFormClearListener","disconnect","initializeWaveSurfer","current","ws","WaveSurfer","create","container","waveColor","blend","progressColor","convertRemToPx","barWidth","barGap","barRadius","cursorWidth","on","time","rp","registerPlugin","RecordPlugin","scrollingWaveform","renderRecordedAudio","destroy","isEqual","setOptions","playPause","audioDeviceId","navigator","mediaDevices","getUserMedia","audio","getAvailableAudioDevices","devices","deviceId","catch","_err","downloadRecording","Boolean","showPlaceholder","showNoMicPermissionsOrPlaceholderOrError","isDisabled","jsxs","WidgetLabel","label","labelVisibilityProtoValueToEnum","labelVisibility","help","TooltipIcon","Placement","TOP","Toolbar","ToolbarAction","FileDownload","Delete"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}